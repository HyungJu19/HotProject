<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" type="text/css" th:href="@{/CSS/default.css}">

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="http://code.jquery.com/jquery-latest.js"></script>

  <script>
    $(function(){

      if($('#myForm').submit(function(){
        if ($('#myForm').attr("msg" == null)){
        alert($('#myForm').attr("msg", "회원정보 수정 완료"));
      }
      }));

      if($("#pwForm").submit(function(){
        if($("#pw").val() !== $("#pw2").val()){
          alert("비밀번호가 다릅니다.");
          $("#pw").val("").focus();
          $("#pw2").val("");
          return false;
        }else if($.trim($("#pw").val()) !== $("#pw").val()){
          alert("공백은 입력이 불가능합니다.");
          return false;
        }
      }));
    })
  </script>

  <title>회원정보 수정</title>
</head>


<body>
<div class="w3-content w3-container w3-margin-top">
  <div class="w3-container w3-card-4">
    <div class="w3-center w3-large w3-margin-top">
      <h3>회원정보 수정</h3>
    </div>
    <div>
      <form id="myForm" action="../user/updatemypage" method="post">
        <input type="hidden" name="id" th:value="${username}">
        <p>
          <label>닉네임</label>
          <input class="w3-input" type="text" id="nickname" name="nickname" th:value="${nickname}" required>
        </p>
        <p>
          <label>이메일</label>
          <input class="w3-input" type="text" id="email" name="email" th:value="${email}" required>
        </p>
        <p class="w3-center">
          <button type="submit" class="w3-button w3-block w3-black w3-ripple w3-margin-top w3-round">회원정보 변경</button>
        </p>
      </form>
      <br />
      <form id="pwForm" action="../user/updatepw" method="post">
        <input type="hidden" name="id" th:value="${username}">
        <p>
          <label>기존 비밀번호</label>
          <input class="w3-input" id="oldpw" name="oldpw" type="password" required>
        </p>
        <p>
          <label>새 비밀번호</label>
          <input class="w3-input" id="pw" name="pw" type="password" required>
        </p>
        <p>
          <label>새 비밀번호 확인</label>
          <input class="w3-input" id="pw2" name="pw2" type="password" required>
        </p>
        <p class="w3-center">
          <button type="submit" id="joinBtn" class="w3-button w3-block w3-black w3-ripple w3-margin-top w3-round">비밀번호 변경</button>
        </p>
      </form>
    </div>
  </div>
</div>
</body>
</html>





